/**
 * @param {number[]} nums
 * @return {number}
 */

// DP sol
// too slow
// var jump = function(nums) {
//   const n = nums.length;
//   const dp = new Array(n).fill(0);
//   const helper = i => {
//     if (i >= n - 1) return 0;
//     // console.log('==', i);
//     if (dp[i] > 0) return dp[i];

//     let min = Infinity;
//     for (let j = 1; j <= nums[i]; j++) {
//       min = Math.min(min, 1 + helper(i + j));
//     }
//     dp[i] = min;
//     return min;
//   };
//   return helper(0);
// };

// 60ms
var jump = function(nums) {
  const n = nums.length;
  if (n === 0 || n === 1) return 0;

  let i = 0;
  let res = 0;
  while (i < n - 1) {
    let max = 1;
    let idx = i + 1;
    if (i + nums[i] >= n - 1) return res + 1;
    for (let j = 1; j <= nums[i]; j++) {
      if (j + nums[i + j] > max) {
        max = j + nums[i + j];
        idx = i + j;
      }
      if (max > n) break;
    }
    res++;
    i = idx;
    // console.log('loop', i, res);
  }
  return res;
};

// best sol from web
// 56ms
var jump = function(nums) {
  if (!nums || nums.length < 2) return 0;
  var count = 0;
  var preMax = 0;
  var curMax = 0;

  for (var i = 0; i < nums.length; i++) {
    var jumpCover = nums[i];
    if (curMax >= nums.length - 1) return count + 1;
    if (i > preMax) {
      preMax = curMax;
      count++;
    }
    curMax = Math.max(curMax, i + jumpCover);
  }
  return count;
};

// console.log(jump([0]));
// // 0

// console.log(jump([2]));
// // 0

console.log(jump([2, 1]));
// 1

console.log(jump([2, 3, 1]));
// 1

console.log(jump([2, 3, 1, 1, 4]));
// 2

console.log(jump([1, 2, 3]));
// 2

console.log(jump([1, 3, 2]));
// 2

console.log(
  jump([
    25000,
    24999,
    24998,
    24997,
    24996,
    24995,
    24994,
    24993,
    24992,
    24991,
    24990,
    24989,
    24988,
    24987,
    24986,
    24985,
    24984,
    24983,
    24982,
    24981,
    24980,
    24979,
    24978,
    24977,
    24976,
    24975,
    24974,
    24973,
    24972,
    24971,
    24970,
    24969,
    24968,
    24967,
    24966,
    24965,
    24964,
    24963,
    24962,
    24961,
    24960,
    24959,
    24958,
    24957,
    24956,
    24955,
    24954,
    24953,
    24952,
    24951,
    24950,
    24949,
    24948,
    24947,
    24946,
    24945,
    24944,
    24943,
    24942,
    24941,
    24940,
    24939,
    24938,
    24937,
    24936,
    24935,
    24934,
    24933,
    24932,
    24931,
    24930,
    24929,
    24928,
    24927,
    24926,
    24925,
    24924,
    24923,
    24922,
    24921,
    24920,
    24919,
    24918,
    24917,
    24916,
    24915,
    24914,
    24913,
    24912,
    24911,
    24910,
    24909,
    24908,
    24907,
    24906,
    24905,
    24904,
    24903,
    24902,
    24901,
    24900,
    24899,
    24898,
    24897,
    24896,
    24895,
    24894,
    24893,
    24892,
    24891,
    24890,
    24889,
    24888,
    24887,
    24886,
    24885,
    24884,
    24883,
    24882,
    24881,
    24880,
    24879,
    24878,
    24877,
    24876,
    24875,
    24874,
    24873,
    24872,
    24871,
    24870,
    24869,
    24868,
    24867,
    24866,
    24865,
    24864,
    24863,
    24862,
    24861,
    24860,
    24859,
    24858,
    24857,
    24856,
    24855,
    24854,
    24853,
    24852,
    24851,
    24850,
    24849,
    24848,
    24847,
    24846,
    24845,
    24844,
    24843,
    24842,
    24841,
    24840,
    24839,
    24838,
    24837,
    24836,
    24835,
    24834,
    24833,
    24832,
    24831,
    24830,
    24829,
    24828,
    24827,
    24826,
    24825,
    24824,
    24823,
    24822,
    24821,
    24820,
    24819,
    24818,
    24817,
    24816,
    24815,
    24814,
    24813,
    24812,
    24811,
    24810,
    24809,
    24808,
    24807,
    24806,
    24805,
    24804,
    24803,
    24802,
    24801,
    24800,
    24799,
    24798,
    24797,
    24796,
    24795,
    24794,
    24793,
    24792,
    24791,
    24790,
    24789,
    24788,
    24787,
    24786,
    24785,
    24784,
    24783,
    24782,
    24781,
    24780,
    24779,
    24778,
    24777,
    24776,
    24775,
    24774,
    24773,
    24772,
    24771,
    24770,
    24769,
    24768,
    24767,
    24766,
    24765,
    24764,
    24763,
    24762,
    24761,
    24760,
    24759,
    24758,
    24757,
    24756,
    24755,
    24754,
    24753,
    24752,
    24751,
    24750,
    24749,
    24748,
    24747,
    24746,
    24745,
    24744,
    24743,
    24742,
    24741,
    24740,
    24739,
    24738,
    24737,
    24736,
    24735,
    24734,
    24733,
    24732,
    24731,
    24730,
    24729,
    24728,
    24727,
    24726,
    24725,
    24724,
    24723,
    24722,
    24721,
    24720,
    24719,
    24718,
    24717,
    24716,
    24715,
    24714,
    24713,
    24712,
    24711,
    24710,
    24709,
    24708,
    24707,
    24706,
    24705,
    24704,
    24703,
    24702,
    24701,
    24700,
    24699,
    24698,
    24697,
    24696,
    24695,
    24694,
    24693,
    24692,
    24691,
    24690,
    24689,
    24688,
    24687,
    24686,
    24685,
    24684,
    24683,
    24682,
    24681,
    24680,
    24679,
    24678,
    24677,
    24676,
    24675,
    24674,
    24673,
    24672,
    24671,
    24670,
    24669,
    24668,
    24667,
    24666,
    24665,
    24664,
    24663,
    24662,
    24661,
    24660,
    24659,
    24658,
    24657,
    24656,
    24655,
    24654,
    24653,
    24652,
    24651,
    24650,
    24649,
    24648,
    24647,
    24646,
    24645,
    24644,
    24643,
    24642,
    24641,
    24640,
    24639,
    24638,
    24637,
    24636,
    24635,
    24634,
    24633,
    24632,
    24631,
    24630,
    24629,
    24628,
    24627,
    24626,
    24625,
    24624,
    24623,
    24622,
    24621,
    24620,
    24619,
    24618,
    24617,
    24616,
    24615,
    24614,
    24613,
    24612,
    24611,
    24610,
    24609,
    24608,
    24607,
    24606,
    24605,
    24604,
    24603,
    24602,
    24601,
    24600,
    24599,
    24598,
    24597,
    24596,
    24595,
    24594,
    24593,
    24592,
    24591,
    24590,
    24589,
    24588,
    24587,
    24586,
    24585,
    24584,
    24583,
    24582,
    24581,
    24580,
    24579,
    24578,
    24577,
    24576,
    24575,
    24574,
    24573,
    24572,
    24571,
    24570,
    24569,
    24568,
    24567,
    24566,
    24565,
    24564,
    24563,
    24562,
    24561,
    24560,
    24559,
    24558,
    24557,
    24556,
    24555,
    24554,
    24553,
    24552,
    24551,
    24550,
    24549,
    24548,
    24547,
    24546,
    24545,
    24544,
    24543,
    24542,
    24541,
    24540,
    24539,
    24538,
    24537,
    24536,
    24535,
    24534,
    24533,
    24532,
    24531,
    24530,
    24529,
    24528,
    24527,
    24526,
    24525,
    24524,
    24523,
    24522,
    24521,
    24520,
    24519,
    24518,
    24517,
    24516,
    24515,
    24514,
    24513,
    24512,
    24511,
    24510,
    24509,
    24508,
    24507,
    24506,
    24505,
    24504,
    24503,
    24502,
    24501,
    24500,
    24499,
    24498,
    24497,
    24496,
    24495,
    24494,
    24493,
    24492,
    24491,
    24490,
    24489,
    24488,
    24487,
    24486,
    24485,
    24484,
    24483,
    24482,
    24481,
    24480,
    24479,
    24478,
    24477,
    24476,
    24475,
    24474,
    24473,
    24472,
    24471,
    24470,
    24469,
    24468,
    24467,
    24466,
    24465,
    24464,
    24463,
    24462,
    24461,
    24460,
    24459,
    24458,
    24457,
    24456,
    24455,
    24454,
    24453,
    24452,
    24451,
    24450,
    24449,
    24448,
    24447,
    24446,
    24445,
    24444,
    24443,
    24442,
    24441,
    24440,
    24439,
    24438,
    24437,
    24436,
    24435,
    24434,
    24433,
    24432,
    24431,
    24430,
    24429,
    24428,
    24427,
    24426,
    24425,
    24424,
    24423,
    24422,
    24421,
    24420,
    24419,
    24418,
    24417,
    24416,
    24415,
    24414,
    24413,
    24412,
    24411,
    24410,
    24409,
    24408,
    24407,
    24406,
    24405,
    24404,
    24403,
    24402,
    24401,
    24400,
    24399,
    24398,
    24397,
    24396,
    24395,
    24394,
    24393,
    24392,
    24391,
    24390,
    24389,
    24388,
    24387,
    24386,
    24385,
    24384,
    24383,
    24382,
    24381,
    24380,
    24379,
    24378,
    24377,
    24376,
    24375,
    24374,
    24373,
    24372,
    24371,
    24370,
    24369,
    24368,
    24367,
    24366,
    24365,
    24364,
    24363,
    24362,
    24361,
    24360,
    24359,
    24358,
    24357,
    24356,
    24355,
    24354,
    24353,
    24352,
    24351,
    24350,
    24349,
    24348,
    24347,
    24346,
    24345,
    24344
  ])
);
// 1
